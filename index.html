<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ü§ñ ChatAI Bob PRO 2025</title>

<style>
body{margin:0;font-family:system-ui,Arial;background:#070b12;color:#e8f1ff}
.wrap{max-width:900px;margin:auto;padding:18px}
.card{background:#0b1220;border:1px solid #13223d;border-radius:16px;padding:16px}
h1{text-align:center}
textarea,select,button{width:100%;margin:10px 0;padding:12px;border-radius:10px;border:1px solid #1a2f55;background:#071022;color:#e8f1ff}
button{background:#00c8ff;font-weight:bold}
.out{background:#071022;border-radius:10px;padding:12px;min-height:120px;white-space:pre-wrap}
img{width:100%;border-radius:12px;margin-top:10px;display:none}
.row{display:flex;gap:10px}
.row button{flex:1}
.small{font-size:13px;opacity:.7}
</style>
</head>

<body>
<div class="wrap">

<div class="card">
<h1>ü§ñ ChatAI Bob PRO 2025</h1>
<p class="small">Versione HTML pura ‚Äî senza completions, senza API, senza backend</p>
</div>

<br>

<div class="card">
<textarea id="prompt" placeholder="Scrivi o usa il microfono‚Ä¶"></textarea>

<select id="mode">
<option value="chat">Demo Chat</option>
<option value="img">Immagine AI</option>
</select>

<div class="row">
<button onclick="mic()">üé§ Microfono</button>
<button onclick="run()">üöÄ Invia</button>
</div>

<div class="out" id="out"></div>
<button onclick="speak()" class="small">üîä Leggi con voce</button>

<img id="img">
</div>

</div>

<script>
let lastText = "";

// MICROFONO
function mic(){
 const SR = window.SpeechRecognition || window.webkitSpeechRecognition;
 if(!SR){ alert("Microfono non supportato"); return; }
 const r = new SR();
 r.lang="it-IT";
 r.onresult=e=>document.getElementById("prompt").value=e.results[0][0].transcript;
 r.start();
}

// DEMO LOGICA (NO AI)
function demoReply(t){
 if(t.includes("html")) return "<html>\\n  <body>\\n    <h1>Ciao!</h1>\\n  </body>\\n</html>";
 if(t.includes("css")) return "body { background:#000; color:#fff }";
 if(t.includes("js")) return "console.log('Hello world');";
 return "Demo offline ‚úÖ\\n\\nHai scritto:\\n"+t;
}

// IMMAGINI AI (PUBBLICO)
function imgUrl(t){
 return "https://image.pollinations.ai/prompt/"+encodeURIComponent(t);
}

// INVIA
function run(){
 const t = document.getElementById("prompt").value.trim();
 const mode = document.getElementById("mode").value;
 const out = document.getElementById("out");
 const img = document.getElementById("img");
 img.style.display="none";

 if(!t){ out.textContent="Scrivi qualcosa"; return; }

 if(mode==="img"){
   img.src = imgUrl(t);
   img.style.display="block";
   out.textContent="üñºÔ∏è Immagine generata";
   lastText="Immagine generata";
 }else{
   lastText = demoReply(t);
   out.textContent = lastText;
 }
}

// VOCE
function speak(){
 if(!lastText) return;
 const u = new SpeechSynthesisUtterance(lastText);
 u.lang="it-IT";
 speechSynthesis.speak(u);
}
</script>
</body>
</html>
